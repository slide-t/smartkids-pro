<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartKids Pro | Mouse Practice</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: #eef3fb;
      overflow: hidden;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: linear-gradient(90deg, #0078ff, #0059c1);
      color: white;
      padding: 10px 20px;
      font-size: 1.2rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: relative;
      z-index: 20;
    }

    header .brand {
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .brand span {
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 5px #fff, 0 0 10px #6ec1ff; }
      to { text-shadow: 0 0 10px #fff, 0 0 20px #7ed6ff; }
    }

    .home-btn {
      background: white;
      color: #0078ff;
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    .home-btn:hover { background: #e8f1ff; }

    /* Sidebar */
    .sidebar {
      position: fixed;
      right: 0;
      top: 0;
      width: 220px;
      height: 100vh;
      background: #f4f6fb;
      padding: 80px 15px 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      box-shadow: -2px 0 5px rgba(0,0,0,0.1);
      overflow-y: auto;
      transition: transform 0.4s ease;
    }

    .sidebar.hidden {
      transform: translateX(230px);
    }

    .menu-toggle {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 24px;
      height: 18px;
      cursor: pointer;
    }

    .menu-toggle span {
      height: 3px;
      background: white;
      border-radius: 2px;
      transition: 0.3s;
    }

    .menu-toggle:hover span:nth-child(2) {
      width: 70%;
    }

    .mode-btn {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, opacity 0.3s;
    }
    .mode-btn:hover { transform: scale(1.05); opacity: 0.9; }

    .green { background: #28a745; }
    .blue { background: #0078ff; }
    .purple { background: #7e57c2; }
    .orange { background: #ff9800; }
    .yellow { background: #fdd835; color: #333; }
    .gray { background: #9e9e9e; }
    .brown { background: #795548; }
    .red { background: #e53935; }

    /* Main Game Board */
    .main-board {
      margin-right: 240px;
      height: calc(100vh - 60px);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .circle {
      position: absolute;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #28a745;
      cursor: pointer;
      transition: background 0.3s, transform 0.1s;
    }
    .circle:active { transform: scale(0.9); }

    /* Controls */
    .controls {
      position: absolute;
      bottom: 20px;
      left: 20px;
      display: flex;
      gap: 10px;
    }

    .control-btn {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      color: white;
      background: #0078ff;
    }

    .timer {
      position: absolute;
      top: 10px;
      left: 20px;
      font-weight: 600;
      background: white;
      padding: 5px 10px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

  </style>
</head>
<body>
  <header>
    <div class="brand">
      üê≠ <span>SmartKids Mouse Practice</span>
    </div>
    <div style="display: flex; align-items: center; gap: 15px;">
      <a href="index.html" class="home-btn">üè† Home</a>
      <div class="menu-toggle" id="menuToggle" title="Toggle Menu">
        <span></span><span></span><span></span>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <div class="sidebar hidden" id="sidebar">
    <button class="mode-btn green" data-mode="click">Click Targets</button>
    <button class="mode-btn blue" data-mode="double">Double Click Test</button>
    <button class="mode-btn purple" data-mode="drag">Drag & Drop</button>
    <button class="mode-btn orange" data-mode="speed">Speed Tracker</button>
    <button class="mode-btn yellow" data-mode="shape">Shape Builder</button>
    <button class="mode-btn gray" data-mode="draw">Drawing Pad</button>
    <button class="mode-btn brown" data-mode="reflex">Reflex Game</button>
    <button class="mode-btn red" data-mode="memory">Memory Match</button>
  </div>

  <!-- Main Game Area -->
  <div class="main-board" id="gameBoard">
    <div class="timer" id="timer">Time: 15</div>
    <div class="controls">
      <button class="control-btn" id="startBtn">Start</button>
      <button class="control-btn" id="pauseBtn">Pause</button>
      <button class="control-btn" id="resetBtn">Reset</button>
    </div>
  </div>

 <script>
  let lessonsData = {};
  let gameRunning = false;
  let score = 0;
  let hits = 0;
  let time = 15;
  let timerInterval;
  const gameBoard = document.getElementById("gameBoard");
  const timerDisplay = document.getElementById("timer");
  const sidebar = document.getElementById("sidebar");
  const menuToggle = document.getElementById("menuToggle");

  /* üîπ Create a time selector dynamically near the timer */
  const timeSelector = document.createElement("select");
  timeSelector.id = "timeSelector";
  ["15", "20", "25"].forEach(val => {
    const option = document.createElement("option");
    option.value = val;
    option.textContent = `${val}s`;
    timeSelector.appendChild(option);
  });
  timerDisplay.insertAdjacentElement("afterend", timeSelector);

  const selectorStyle = document.createElement("style");
  selectorStyle.textContent = `
    #timeSelector {
      background: white;
      color: #0078ff;
      font-weight: 600;
      padding: 4px 10px;
      border-radius: 8px;
      border: 2px solid #0078ff;
      margin-left: 8px;
      cursor: pointer;
      transition: 0.3s ease;
    }
    #timeSelector:hover {
      background: #0078ff;
      color: white;
    }
  `;
  document.head.appendChild(selectorStyle);

  /* üîπ Sidebar toggle with tooltip */
  menuToggle.addEventListener("click", () => {
    sidebar.classList.toggle("hidden");
    menuToggle.classList.toggle("active");
  });

  const style = document.createElement("style");
  style.textContent = `
    #menuToggle.active span:nth-child(1) {
      transform: rotate(45deg) translateY(8px);
    }
    #menuToggle.active span:nth-child(2) {
      opacity: 0;
    }
    #menuToggle.active span:nth-child(3) {
      transform: rotate(-45deg) translateY(-8px);
    }
    #menuToggle span {
      transition: all 0.3s ease;
    }
    #menuToggle::after {
      content: attr(title);
      position: absolute;
      top: 35px;
      left: -10px;
      color: white;
      font-size: 13px;
      opacity: 0;
      transform: translateY(-5px);
      transition: all 0.3s ease;
      pointer-events: none;
    }
    #menuToggle:hover::after {
      opacity: 0.9;
      transform: translateY(0);
    }
  `;
  document.head.appendChild(style);

  /* üîπ Load mouse lessons */
  fetch("json-files/mouse_lessons.json")
    .then(res => res.json())
    .then(data => {
      lessonsData = data;
      console.log("‚úÖ Mouse lessons loaded", data);
    })
    .catch(err => console.error("Error loading JSON:", err));

  /* üîπ Sidebar mode buttons */
  document.querySelectorAll(".mode-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      sidebar.classList.add("hidden");
      menuToggle.classList.remove("active");
      const mode = btn.dataset.mode;
      if (mode === "click") startClickTargets();
      else alert(`üîß ${btn.textContent} coming soon!`);
    });
  });

  /* üîπ Click Targets: Sample Game */
  function startClickTargets() {
    if (gameRunning) return;
    gameRunning = true;
    score = 0;
    hits = 0;
    time = parseInt(timeSelector.value) || 15;
    timeSelector.disabled = true; // lock time while playing
    timerDisplay.textContent = `Time: ${time}`;

    const circle = document.createElement("div");
    circle.classList.add("circle");
    moveCircle(circle);
    gameBoard.appendChild(circle);

    circle.addEventListener("click", () => {
      hits++;
      score += 10;
      if (hits >= 3 && hits < 6) circle.style.background = "#ff9800";
      else if (hits >= 6 && hits < 10) circle.style.background = "#0078ff";
      else if (hits >= 10) circle.style.background = "#28a745";
      moveCircle(circle);
    });

    timerInterval = setInterval(() => {
      time--;
      timerDisplay.textContent = `Time: ${time}`;
      if (time <= 0) endGame(circle);
    }, 1000);
  }

  function moveCircle(circle) {
    const maxX = gameBoard.clientWidth - 60;
    const maxY = gameBoard.clientHeight - 60;
    const x = Math.random() * maxX;
    const y = Math.random() * maxY;
    circle.style.transition = "left 0.3s ease, top 0.3s ease";
    circle.style.left = x + "px";
    circle.style.top = y + "px";
  }

  function endGame(circle) {
    clearInterval(timerInterval);
    gameRunning = false;
    circle.remove();
    timeSelector.disabled = false; // unlock for next round
    alert(`‚è∞ Time's up! Score: ${score}`);
  }

  /* üîπ Control buttons */
  document.getElementById("startBtn").addEventListener("click", startClickTargets);
  document.getElementById("pauseBtn").addEventListener("click", () => {
    if (gameRunning) {
      clearInterval(timerInterval);
      gameRunning = false;
      alert("‚è∏ Game paused");
    }
  });
  document.getElementById("resetBtn").addEventListener("click", () => {
    location.reload();
  });
</script>
  
</body>
</html>
